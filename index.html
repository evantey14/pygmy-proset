<style>
#m {
  width: 800px;
  margin: 0 auto;
  border: 1px solid green;
  display: flex;
  flex-direction: row;
}
#s {
  width: 62.5%;
  border: 1px solid red;
}
#t {
  width: 37.5%;
  border: 1px solid blue;
}
.r {
  display: flex;
  flex-direction: row;
  justify-content: center;
}
.c {
  width: 100;
  height: 150;
  background-color: #F0F0F0;
  border-radius: 5px;
  margin: 25;
}
.h {
  -moz-box-shadow: inset 0 2px 0 0 #F3F3F3, 0 2px 4px 0 #b3b3b3;
  -webkit-box-shadow: inset 0 2px 0 0 #f3f3f3, 0 2px 4px 0 #b3b3b3;
}
</style>

<div id="m">
  <div id="s">
    <div class="r">
      <canvas class="c" id="c0"></canvas>
      <canvas class="c" id="c1"></canvas>
    </div>
    <div class="r">
      <canvas class="c" id="c2"></canvas>
      <canvas class="c" id="c3"></canvas>
      <canvas class="c" id="c4"></canvas>
    </div>
    <div class="r">
      <canvas class="c" id="c5"></canvas>
      <canvas class="c" id="c6"></canvas>
    </div>
  </div>
  <div id="t"></div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
var u=['#cc0000','#f57900','#edd400','#73d216','#3465a4','#75507b'];
var x=[25,75,25,75,25,75];
var y=[37,37,75,75,113,113];
var c=Array(7);
var d=[0,0,0,0,0,0,0];
$('.c').click(function(e){
  var n=parseInt(e.target.id.charAt(1));
  $('#c'+n).toggleClass('h');
  d[n]=!d[n];
});

function redraw(){
  for(var n=0;n<7;n++){
    var w=$('#c'+n).get(0);
    w.setAttribute('width','100');
    w.setAttribute('height','150');
    var v=w.getContext("2d");
    for(var b=0,z=c[n];b<7;b++,z>>=1){
      if(z&1){
        v.beginPath();
        v.arc(x[b],y[b],10,0,2*Math.PI);
        v.fillStyle=u[b];
        v.fill();
      }
    }
  }
  console.log(c);
}

var socket=io();
socket.emit('init');
socket.on('p',function(o){
  var p=o.p;
  c=o.c;
  redraw()
});
</script>
